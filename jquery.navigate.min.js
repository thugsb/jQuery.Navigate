/**
 * jQuery.navigate v 0.2 - 2nd March 2011
 * navigate.apio.ca
 * 
 * Copyright (c) 2010 Stuart Basden
 * Released under MIT license
 * https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt
**/
(function(b){b.fn.navigate=function(j){var e={mainCycle:{fx:"blindX",timeout:0},subCycle:{fx:"blindY",timeout:0},subpageContainer:".subpages",instantLoad:0};return this.each(function(){function f(a,c){if(c.oldPage!=c.newPage){var g=a.pageSlideNos[c.newPage.replace("#","")];a.selector.cycle(g);if(b(c.newPage).children(a.subpageContainer).length!=0){b(c.newPage).children(a.subpageContainer).cycle(a.subCycle).addClass("cycling");var k=0;b(c.newPage).children(a.subpageContainer).children().each(function(){var n= b(this).attr("id");a.subpageSlideNos[n]=k;k++;b(this).addClass("subpage")})}c.newSubPage!=""&&l(a,c);b(c.oldPage).children(a.subpageContainer).length!=0&&b(c.oldPage+" "+a.subpageContainer).cycle("destroy")}else c.newSubPage==""?b(c.newPage).children(a.subpageContainer).cycle(0):l(a,c)}function l(a,c){var g=a.subpageSlideNos[c.newSubPage];b(c.newPage).children(a.subpageContainer).cycle(g)}j&&b.extend(e,j);e.selector=b(this);e.pageSlideNos={};e.subpageSlideNos={};var h="",i=0;b(this).children().each(function(){var a= b(this).attr("id");e.pageSlideNos[a]=i;if(i==0)h=a;i++;b(this).addClass("page")});b(this).cycle(e.mainCycle);if(window.location.hash=="")window.location.hash="#"+h.charAt(0).toUpperCase()+h.slice(1);var d={oldPage:"",newPage:window.location.hash.toLowerCase(),oldSubPage:"",newSubPage:""};if(d.newPage.indexOf("/")!=-1){var m=d.newPage.split("/");d.newPage=m[0];d.newSubPage=m[1]}f(e,d);e.instantLoad&&f(e,d);b(window).hashchange(function(){d={oldPage:d.newPage,newPage:window.location.hash.toLowerCase(), oldSubPage:d.newSubPage,newSubPage:""};if(d.newPage.indexOf("/")!=-1){var a=d.newPage.split("/");d.newPage=a[0];d.newSubPage=a[1]}f(e,d)});b("a").click(e,function(){if(b(this).attr("href").charAt(0)=="#"){var a=b(this).attr("href");a="#"+a.charAt(1).toUpperCase()+a.slice(2);window.location.hash=a;return false}else return true})})}})(jQuery);

/*
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"<\/script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);
